/*
  * kihon 0.0.24
  * https://www.npmjs.com/package/kihon
  *
  * The MIT License (MIT)
  * Copyright (c) 2018 Hyun-Seok.Kim, dragmove@gmail.com
  */

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.Kihon=t(require("jquery")):e.Kihon=t(e.jQuery)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=arguments,o=(t.truthy=function(e){return!!e},t.falsy=function(e){return!e}),r=t.not=function(e){return function(t){return!e(t)}},a=t.existy=function(e){return null!=e},l=t.isDefined=function(e){return null!==e&&void 0!==e},s=t.isNotDef=r(l),u=(t.isBoolean=function(e){return!s(e)&&e.constructor===Boolean},t.isNumber=function(e){return!s(e)&&e.constructor===Number}),c=t.isString=function(e){return!s(e)&&e.constructor===String},d=(t.isObject=function(e){return!s(e)&&e.constructor===Object},t.isFunction=function(e){return!s(e)&&e.constructor===Function}),p=(t.isVideoElement=function(e){return!s(e)&&e.constructor===HTMLVideoElement},t.allOf=function(){return Array.prototype.slice.call(arguments).every(function(e){return!0===e})}),h=(t.anyOf=function(){return Array.prototype.slice.call(i).some(function(e){return!0===e})},t.singleEle=function(e){return 1===e.length}),f=(t.notSingleEle=r(h),t.each=function(e,t,n){if(o(Array.isArray(e)||c(e)))throw new TypeError("dataCanLoop parameter type of each() should be Array or String.");for(var i=a(n)?n:null,r=0,l=e.length;r<l;r++)t.call(i,e[r])},t.curry2=function(e){if(!d(e))throw new TypeError("func parameter type of curry2() should be Function.");return function(t){return function(n){return e(n,t)}}});t.gt=f(function(e,t){if(!p(u(e),u(t)))throw new TypeError("gt requires Number parameters.");return e>t}),t.lt=f(function(e,t){if(!p(u(e),u(t)))throw new TypeError("lt requires Number parameters.");return e<t}),t.lte=f(function(e,t){if(!p(u(e),u(t)))throw new TypeError("lte requires Number parameters.");return e<=t}),t.eq=f(function(e,t){return e===t}),t.getSizeAspectFill=function(e,t,n,i){if(!p(u(e),u(t),u(n),u(i)))throw new TypeError("getSizeAspectFill() requires Number parameters.");var o=n,r=Math.ceil(n/e*t);return r<i&&(o=Math.ceil(i/t*e),r=i),{width:o,height:r}},t.getUriCombinedParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("uri parameter type of getUriCombinedParams() should be string.");if(!e)return"";if(!t)return e;var n="";for(var i in t)n+="&"+i+"="+String(t[i]);if(""===n)return e;var o=e.split("#");e=o[0];var r=l(o[1])?"#"+o[1]:"";return e=(e.indexOf("?")>=0?e+n:e+"?"+n.substr(1))+r}},function(t,n){t.exports=e},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),l=n(0),s=function(){function e(t){if(i(this,e),(0,l.isNotDef)(t))throw new Error("Navi: require options object when create instance.");var n=this;n._option=a.default.extend({btns:[],mouseoverCallback:null,mouseoutCallback:null,mousedownCallback:null,mouseupCallback:null,clickCallback:null,activateCallback:null},t),n._initialized=!1,n._uniqueId=Date.now(),n._$btns=(0,a.default)(n._option.btns||[]),n._currentIndex=0,n._activatedIndex=0,n._proxy={mouseoverBtnEventHandler:null,mouseoutBtnEventHandler:null,mousedownBtnEventHandler:null,mouseupBtnEventHandler:null,clickBtnEventHandler:null}}return o(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.mouseoverBtnEventHandler=e._mouseoverBtnEventHandler.bind(e),e._proxy.mouseoutBtnEventHandler=e._mouseoutBtnEventHandler.bind(e),e._proxy.mousedownBtnEventHandler=e._mousedownBtnEventHandler.bind(e),e._proxy.mouseupBtnEventHandler=e._mouseupBtnEventHandler.bind(e),e._proxy.clickBtnEventHandler=e._clickBtnEventHandler.bind(e),e.setBtnsEventHandler(!0),e)}},{key:"getBtns",value:function(){return this._$btns.toArray()}},{key:"getBtn",value:function(e){var t=this,n=e-1;return n<0||n>=t._$btns.length?null:t._$btns.get(n)}},{key:"getActivatedIndex",value:function(){return this._activatedIndex}},{key:"activate",value:function(e){var t=this,n=e<=0||e>t._$btns.length?0:e;return(0,l.isFunction)(t._option.activateCallback)&&t._option.activateCallback.call(t,{prevActivatedIndex:t._activatedIndex,index:n}),t._activatedIndex=n,t}},{key:"setBtnsEventHandler",value:function(e){if((0,l.not)(l.isBoolean)(e))throw new TypeError("Navi: setBtnsEventHandler require boolean parameter.");var t=this;return(0,l.each)(t.getBtns(),function(e){(0,a.default)(e).off("mouseover.kihon.navi."+t._uniqueId,t._proxy.mouseoverBtnEventHandler).off("mouseout.kihon.navi."+t._uniqueId,t._proxy.mouseoutBtnEventHandler).off("mousedown.kihon.navi."+t._uniqueId,t._proxy.mousedownBtnEventHandler).off("mouseup.kihon.navi."+t._uniqueId,t._proxy.mouseupBtnEventHandler).off("click.kihon.navi."+t._uniqueId,t._proxy.clickBtnEventHandler)}),e&&(0,l.each)(t.getBtns(),function(e){(0,a.default)(e).on("mouseover.kihon.navi."+t._uniqueId,t._proxy.mouseoverBtnEventHandler).on("mouseout.kihon.navi."+t._uniqueId,t._proxy.mouseoutBtnEventHandler).on("mousedown.kihon.navi."+t._uniqueId,t._proxy.mousedownBtnEventHandler).on("mouseup.kihon.navi."+t._uniqueId,t._proxy.mouseupBtnEventHandler).on("click.kihon.navi."+t._uniqueId,t._proxy.clickBtnEventHandler)}),t}},{key:"destroy",value:function(){var e=this;return e._initialized=!1,e.setBtnsEventHandler(!1),e._currentIndex=0,e._activatedIndex=0,e._proxy.mouseoverBtnEventHandler=null,e._proxy.mouseoutBtnEventHandler=null,e._proxy.mousedownBtnEventHandler=null,e._proxy.mouseupBtnEventHandler=null,e._proxy.clickBtnEventHandler=null,e}},{key:"_mouseoverBtnEventHandler",value:function(e){var t=this,n=e.currentTarget,i=t._$btns.index(n);i<0||(t._currentIndex=i+1,(0,l.isFunction)(t._option.mouseoverCallback)&&t._option.mouseoverCallback.call(t,{event:e,btn:n,index:t._currentIndex}))}},{key:"_mouseoutBtnEventHandler",value:function(e){var t=this,n=e.currentTarget,i=t._$btns.index(n);i<0||(0,l.isFunction)(t._option.mouseoutCallback)&&t._option.mouseoutCallback.call(t,{event:e,btn:n,index:i+1})}},{key:"_mousedownBtnEventHandler",value:function(e){var t=this,n=e.currentTarget,i=t._$btns.index(n);i<0||(e.preventDefault(),(0,l.isFunction)(t._option.mousedownCallback)&&t._option.mousedownCallback.call(t,{event:e,btn:n,index:i+1}))}},{key:"_mouseupBtnEventHandler",value:function(e){var t=this,n=e.currentTarget,i=t._$btns.index(n);i<0||(e.preventDefault(),(0,l.isFunction)(t._option.mouseupCallback)&&t._option.mouseupCallback.call(t,{event:e,btn:n,index:i+1}))}},{key:"_clickBtnEventHandler",value:function(e){var t=this,n=e.currentTarget,i=t._$btns.index(n);if(!(i<0)){e.preventDefault();var o=t._activatedIndex;(0,l.isFunction)(t._option.clickCallback)&&t._option.clickCallback.call(t,{event:e,btn:n,prevActivatedIndex:o,index:i+1}),(0,l.isFunction)(t._option.activateCallback)&&t._option.activateCallback.call(t,{prevActivatedIndex:o,index:i+1}),t._currentIndex=t._activatedIndex=i+1}}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),l=n(0),s=function(){function e(t){i(this,e);var n=this;n._option=a.default.extend({wrapClass:"modal-wrap",contents:"",appendTo:(0,a.default)("body"),closeBtnSelector:".btn-close",isCloseByClickOutside:!0,isCloseByEscKey:!0,showCallback:null,hideCallback:null,overlay:null},t),n._initialized=!1,n._uniqueId=Date.now(),n._$wrap=null,n._$contents=null,n._$parentNode=(0,a.default)(n._option.appendTo),n._$closeBtn=null,n._overlay=n._option.overlay,n._isShow=!1,n._proxy={closeBtnEventHandler:null,wrapEventHandler:null,escKeyEventHandler:null}}return o(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._$contents=(0,a.default)(e._option.contents),e._$wrap=(0,a.default)(document.createElement("div")).addClass(e._option.wrapClass),e._$wrap.html(e._$contents).hide(),e._$parentNode.append(e._$wrap),e._$closeBtn=(0,a.default)(e._option.closeBtnSelector,e._$wrap),e._proxy.closeBtnEventHandler=e._closeBtnEventHandler.bind(e),e._proxy.wrapEventHandler=e._wrapEventHandler.bind(e),e._proxy.escKeyEventHandler=e._escKeyEventHandler.bind(e),e._$closeBtn.length>0&&e.setCloseBtnEventHandler(!0),!0===e._option.isCloseByClickOutside&&e.setWrapEventHandler(!0),!0===e._option.isCloseByEscKey&&e.setEscKeyEventHandler(!0),e)}},{key:"setCloseBtnEventHandler",value:function(e){if((0,l.not)(l.isBoolean)(e))throw new TypeError("Modal: setCloseBtnEventHandler require boolean parameter.");var t=this,n="click.kihon.modal."+t._uniqueId;return t._$closeBtn.length<=0?t:(t._$closeBtn.off(n,t._proxy.closeBtnEventHandler),e&&t._$closeBtn.on(n,t._proxy.closeBtnEventHandler),t)}},{key:"setWrapEventHandler",value:function(e){if((0,l.not)(l.isBoolean)(e))throw new TypeError("Modal: setWrapEventHandler require boolean parameter.");var t=this,n="click.kihon.modal."+t._uniqueId;return(0,l.isNotDef)(t._$wrap)||t._$wrap.length<=0?t:(t._$wrap.off(n,t._proxy.wrapEventHandler),e&&t._$wrap.on(n,t._proxy.wrapEventHandler),t)}},{key:"setEscKeyEventHandler",value:function(e){if((0,l.not)(l.isBoolean)(e))throw new TypeError("Modal: setEscKeyEventHandler require boolean parameter.");var t=this,n="keydown.kihon.modal."+t._uniqueId;return(0,a.default)("body").off(n,t._proxy.escKeyEventHandler),e&&(0,a.default)("body").on(n,t._proxy.escKeyEventHandler),t}},{key:"getNode",value:function(){return this._$wrap}},{key:"appendTo",value:function(e){var t=this;return t._$parentNode=t._option.appendTo=(0,a.default)(e),t._$parentNode.append(t._$wrap),t}},{key:"show",value:function(){var e=this;if(!(0,l.truthy)(e._isShow))return e._isShow=!0,(0,l.isFunction)(e._option.showCallback)&&e._option.showCallback.call(e),(0,l.isDefined)(e._$wrap)&&e._$wrap.show(),(0,l.isDefined)(e._overlay)&&e._overlay.show(),e}},{key:"hide",value:function(){var e=this;if(e._isShow)return e._isShow=!1,(0,l.isFunction)(e._option.hideCallback)&&e._option.hideCallback.call(e),(0,l.isDefined)(e._$wrap)&&e._$wrap.hide(),(0,l.isDefined)(e._overlay)&&e._overlay.hide(),e}},{key:"isShow",value:function(){return this._isShow}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(e=a.default.extend({isRemoveNode:!0,isRemoveOverlay:!0},e),(0,l.not)(l.isBoolean)(e.isRemoveNode))throw new TypeError("Modal: destroy isRemoveNode variable type of option should be boolean.");if((0,l.not)(l.isBoolean)(e.isRemoveOverlay))throw new TypeError("Modal: destroy isRemoveOverlay variable type of option should be boolean.");return t._initialized=!1,t.setCloseBtnEventHandler(!1),t.setWrapEventHandler(!1),t.setEscKeyEventHandler(!1),(0,l.isDefined)(t._$wrap)&&((0,l.truthy)(e.isRemoveNode)&&t._$wrap.remove(),t._$wrap=null),t._$contents=null,t._$parentNode=null,t._$closeBtn=null,(0,l.isDefined)(t._overlay)&&(t._overlay.destroy({isRemoveNode:e.isRemoveOverlay}),t._overlay=null),t._proxy.closeBtnEventHandler=null,t._proxy.wrapEventHandler=null,t._proxy.escKeyEventHandler=null,t}},{key:"_closeBtnEventHandler",value:function(e){switch(e.preventDefault(),e.type){case"click":this.hide()}}},{key:"_wrapEventHandler",value:function(e){var t=this;switch(e.type){case"click":if((0,l.falsy)(t._option.isCloseByClickOutside))return;if(e.target===t._$contents.get(0)||a.default.contains(t._$contents.get(0),e.target))return;t.hide()}}},{key:"_escKeyEventHandler",value:function(e){switch(e.type){case"keydown":27===e.keyCode&&this.hide()}}}]),e}();t.default=s},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=i(o),a=n(7),l=i(a),s=n(8),u=i(s),c=n(10),d=i(c),p=n(2),h=i(p),f=n(11),v=i(f),_=n(12),g=i(_),y=n(3),b=i(y),m=n(13),w=i(m);t.default={FullSizeBg:r.default,FullSizeVideo:l.default,HorizontalScrollingNavi:u.default,ImageLoader:d.default,Navi:h.default,NaviHasTimer:v.default,Overlay:g.default,Modal:b.default,YoutubeModal:w.default}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),l=n(0),s=function(){function e(t){if(i(this,e),(0,l.isNotDef)(t))throw new Error("FullSizeBg: require options object when create instance.");var n=this;if(n._option=a.default.extend({wrap:null,imgWrap:null,imgWidth:320,imgHeight:240,alignX:"center",alignY:"center",global:window},t),n._global=n._option.global,n._initialized=!1,n._uniqueId=Date.now(),n._$wrap=(0,a.default)(n._option.wrap),n._$imgWrap=(0,a.default)(n._option.imgWrap),n._$img=(0,a.default)("img",n._option.imgWrap),n._proxy={resizeEventHandler:null},(0,l.anyOf)((0,l.notSingleEle)(n._$img),(0,l.notSingleEle)(n._$imgWrap),(0,l.notSingleEle)(n._$img)))throw new Error("FullSizeBg: require options object has a single wrap, imgWrap, img.")}return o(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.resizeEventHandler=e.resize.bind(e),e.setResizeEventHandler(!0),e.resize(),e)}},{key:"setResizeEventHandler",value:function(e){if((0,l.not)(l.isBoolean)(e))throw new TypeError("FullSizeBg: setResizeEventHandler require boolean parameter.");var t=this,n="resize.kihon.fullsizebg."+t._uniqueId;return(0,a.default)(t._global).off(n,t._proxy.resizeEventHandler),e&&(0,a.default)(t._global).on(n,t._proxy.resizeEventHandler),t}},{key:"resize",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this),t=e.getImageSizeAspectFill(e._option.imgWidth,e._option.imgHeight,e._global);return e._$img.css({width:t.width,height:t.height}),e._setWrapAlign(e._option.alignX,e._option.alignY,t,e._global),e._$wrap.css({width:e._global.innerWidth,height:e._global.innerHeight}),e}},{key:"getImageSizeAspectFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return(0,l.getSizeAspectFill)(e,t,n.innerWidth,n.innerHeight)}},{key:"destroy",value:function(){var e=this;return e._initialized=!1,e._$wrap=null,e._$imgWrap=null,e._$img=null,e.setResizeEventHandler(!1),e._proxy.resizeEventHandler=null,e}},{key:"_setWrapAlign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:0,height:0},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,o=this,r=i.innerWidth,a=i.innerHeight,l=0,s=0;switch(e){case"left":l=0;break;case"center":l=Math.round((r-n.width)/2);break;case"right":l=Math.round(r-n.width)}switch(t){case"top":s=0;break;case"center":s=Math.round((a-n.height)/2);break;case"bottom":s=Math.round(a-n.height)}return o._$imgWrap.css({left:l,top:s}),o}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),l=n(0),s=function(){function e(t){if(i(this,e),(0,l.isNotDef)(t))throw new Error("FullSizeVideo: require options object when create instance.");var n=this;if(n._option=a.default.extend({wrap:null,videoWrap:null,videoUrls:[],videoWidth:320,videoHeight:240,alignX:"center",alignY:"center",isAutoPlay:!0,isLoop:!1,isMuted:!1,canplayCallback:null,timeupdateCallback:null,endedCallback:null,global:window},t),n._global=n._option.global,n._initialized=!1,n._uniqueId=Date.now(),n._$wrap=(0,a.default)(n._option.wrap),n._$videoWrap=(0,a.default)(n._option.videoWrap),n._$video=null,n._proxy={resizeEventHandler:null},(0,l.notSingleEle)(n._$wrap))throw new Error("FullSizeVideo: require options object has a single wrap.");if((0,l.notSingleEle)(n._$videoWrap))throw new Error("FullSizeVideo: require options object has a single videoWrap.")}return o(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.resizeEventHandler=e.resize.bind(e),e._setVideo(),e._setCallbacks(),e.setResizeEventHandler(!0),e.resize(),e)}},{key:"getVideoNode",value:function(){return this._$video}},{key:"getVideoSizeAspectFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return(0,l.getSizeAspectFill)(e,t,n.innerWidth,n.innerHeight)}},{key:"getVolume",value:function(){var e=this;if((0,l.isNotDef)(e._$video)||(0,l.notSingleEle)(e._$video))return null;var t=e._$video.get(0);return(0,l.not)(l.isVideoElement)(t)?null:t.volume}},{key:"setVolume",value:function(e){var t=this;if((0,l.not)(l.isNumber)(e))throw new TypeError("FullSizeVideo: setVolume require a number parameter.");if((0,l.gt)(e)(0)||(0,l.lt)(e)(1))throw new Error("FullSizeVideo: setVolume require a number between 0 and 1.");if((0,l.isNotDef)(t._$video)||(0,l.notSingleEle)(t._$video))return t;var n=t._$video.get(0);return(0,l.not)(l.isVideoElement)(n)?t:(n.volume=e,t)}},{key:"play",value:function(){var e=this;if((0,l.isNotDef)(e._$video)||(0,l.notSingleEle)(e._$video))return e;var t=e._$video.get(0);return(0,l.not)(l.isVideoElement)(t)?e:(t.play(),e)}},{key:"pause",value:function(){var e=this;if((0,l.isNotDef)(e._$video)||(0,l.notSingleEle)(e._$video))return e;var t=e._$video.get(0);return(0,l.not)(l.isVideoElement)(t)?e:(t.pause(),e)}},{key:"stop",value:function(){var e=this;if((0,l.isNotDef)(e._$video)||(0,l.notSingleEle)(e._$video))return e;var t=e._$video.get(0);return(0,l.not)(l.isVideoElement)(t)?e:(t.pause(),t.currentTime=0,e)}},{key:"seek",value:function(e){var t=this;if((0,l.isNotDef)(t._$video)||(0,l.notSingleEle)(t._$video))return t;var n=t._$video.get(0);return(0,l.not)(l.isVideoElement)(n)?t:(n.currentTime=e,t)}},{key:"setResizeEventHandler",value:function(e){if((0,l.not)(l.isBoolean)(e))throw new TypeError("FullSizeVideo: setResizeEventHandler require boolean parameter.");var t=this,n="resize.kihon.fullsizevideo."+t._uniqueId;return(0,a.default)(t._global).off(n,t._proxy.resizeEventHandler),e&&(0,a.default)(t._global).on(n,t._proxy.resizeEventHandler),t}},{key:"resize",value:function(e){var t=this,n=t._option,i=t.getVideoSizeAspectFill(n.videoWidth,n.videoHeight,t._global);return t._$video.width(i.width).height(i.height),t._setWrapAlign(n.alignX,n.alignY,i,t._global),t._$wrap.css({width:t._global.innerWidth,height:t._global.innerHeight}),t}},{key:"destroy",value:function(){var e=this;return e._initialized=!1,(0,l.isDefined)(e._$video)&&(e.pause(),e._$video.off("canplay.kihon.fullsizevideo."+e._uniqueId).off("timeupdate.kihon.fullsizevideo."+e._uniqueId).off("ended.kihon.fullsizevideo."+e._uniqueId)),e._$wrap=null,e._$videoWrap=null,e._$video=null,e.setResizeEventHandler(!1),e.proxy.resizeEventHandler=null,e}},{key:"_setVideo",value:function(){var e=this,t=e._option,n="",i="";(0,l.each)(t.videoUrls,function(e){n=e.split(".").pop().toLowerCase(),i+='<source src="'+e+'" type="video/'+("ogv"===n?"ogg":n)+'"></source>'}),e._$videoWrap.append("<video>"+i+"</video>"),e._$video=(0,a.default)("video",e._$videoWrap);var o=e._$video.get(0);!0===t.isAutoPlay&&o.setAttribute("autoplay",""),!0===t.isMuted&&o.setAttribute("muted",""),!0===t.isLoop&&o.setAttribute("loop","")}},{key:"_setCallbacks",value:function(){var e=this,t=e._option,n=e._$video.get(0),i=n.hasOwnProperty("onended");(0,l.isFunction)(t.canplayCallback)&&e._$video.on("canplay.kihon.fullsizevideo."+e._uniqueId,function(n){t.canplayCallback.call(e,{event:n})}),((0,l.isFunction)(t.timeupdateCallback)||(0,l.allOf)((0,l.falsy)(i),(0,l.isFunction)(t.endedCallback)))&&e._$video.on("timeupdate.kihon.fullsizevideo."+e._uniqueId,function(i){(0,l.isFunction)(t.timeupdateCallback)&&t.timeupdateCallback.call(e,{event:i,currentTime:n.currentTime,duration:n.duration}),(0,l.allOf)((0,l.isFunction)(t.endedCallback),(0,l.lte)(n.currentTime)(n.duration))&&t.endedCallback.call(e,{event:i,currentTime:n.currentTime,duration:n.duration})}),(0,l.allOf)((0,l.truthy)(i),(0,l.isFunction)(t.endedCallback))&&e._$video.on("ended.kihon.fullsizevideo."+e._uniqueId,function(i){t.endedCallback.call(e,{event:i,currentTime:n.currentTime,duration:n.duration})})}},{key:"_setWrapAlign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:0,height:0},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,o=this,r=i.innerWidth,a=i.innerHeight,l=0,s=0;switch(e){case"left":l=0;break;case"center":l=Math.round((r-n.width)/2);break;case"right":l=Math.round(r-n.width)}switch(t){case"top":s=0;break;case"center":s=Math.round((a-n.height)/2);break;case"bottom":s=Math.round(a-n.height)}return o._$videoWrap.css({left:l,top:s}),o}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},u=n(1),c=i(u),d=n(2),p=i(d),h=n(0),f=function(e){function t(e){if(o(this,t),(0,h.isNotDef)(e))throw new Error("HorizontalScrollingNavi: require options object when create instance.");var i=c.default.extend({Dragdealer:n(9),wrap:null,handleClass:"handle",speed:.25,positionedCallback:null,dragStartCallback:null,dragStopCallback:null,animationCallback:null,global:window},e),a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i)),l=a;if(l._isDraggable=!1,l._dragDealer=null,c.default.extend(!0,l._proxy,{resizeEventHandler:null,positionedCallback:null,dragStartCallback:null,dragStopCallback:null,animationCallback:null}),(0,h.notSingleEle)((0,c.default)(l._option.wrap)))throw new Error("HorizontalScrollingNavi: require options object has a single wrap.");return a}return a(t,e),l(t,[{key:"init",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this);var e=this;return e._proxy.resizeEventHandler=e.resize.bind(e),e._proxy.positionedCallback=e._option.positionedCallback.bind(e),e._proxy.dragStartCallback=e._option.dragStartCallback.bind(e),e._proxy.dragStopCallback=e._option.dragStopCallback.bind(e),e._proxy.animationCallback=e._option.animationCallback.bind(e),e._setContents(),e.setResizeEventHandler(!0),e.resize(),e}},{key:"getRatioX",value:function(){return(0,h.isNotDef)(this._dragDealer)?null:this._dragDealer.getValue()[0]}},{key:"getOffsetRatioByPosition",value:function(e){return(0,h.isNotDef)(this._dragDealer)?null:this._dragDealer.getRatiosByOffsets([e,0])}},{key:"getHandle",value:function(){return(0,h.isNotDef)(this._dragDealer)?null:this._dragDealer.handle}},{key:"setX",value:function(e){var t=this,n=t.getOffsetRatioByPosition(e);return t._dragDealer.setValue(n[0],n[1]),t}},{key:"setRatioX",value:function(e){return this._dragDealer.setValue(e,0),this}},{key:"isDraggable",value:function(){return this._isDraggable}},{key:"enable",value:function(){var e=this;return e._dragDealer.enable(),e._isDraggable=!0,e}},{key:"disable",value:function(){var e=this;return e._dragDealer.disable(),e._isDraggable=!1,e}},{key:"destroy",value:function(){var e=this;return e.setResizeEventHandler(!1),e._isDraggable=!1,(0,h.isDefined)(e._dragDealer)&&e._dragDealer.unbindEventListeners(),e._dragDealer=null,e._proxy.resizeEventHandler=null,e._proxy.positionedCallback=null,e._proxy.dragStartCallback=null,e._proxy.dragStopCallback=null,e._proxy.animationCallback=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),e}},{key:"_setContents",value:function(){var e=this,t=e._option;return e._dragDealer=new t.Dragdealer((0,c.default)(t.wrap).get(0),{handleClass:t.handleClass,disabled:!1,horizontal:!0,vertical:!1,slide:!0,loose:!0,speed:t.speed,css3:!0,callback:e._proxy.positionedCallback,dragStartCallback:e._proxy.dragStartCallback,dragStopCallback:e._proxy.dragStopCallback,animationCallback:e._proxy.animationCallback}),e}},{key:"setResizeEventHandler",value:function(e){if((0,h.not)(h.isBoolean)(e))throw new TypeError("HorizontalScrollingNavi: setResizeEventHandler require boolean parameter.");var t=this,n="resize.kihon.horizontalscrollingnavi."+t._uniqueId;return(0,c.default)(t._option.global).off(n,t._proxy.resizeEventHandler),e&&(0,c.default)(t._option.global).on(n,t._proxy.resizeEventHandler),t}},{key:"resize",value:function(e){var t=this;if((0,h.isDefined)(t._dragDealer))if((0,c.default)(t.getHandle()).outerWidth()>(0,c.default)(t._option.wrap).width())t.enable();else{(0,h.falsy)(t._dragDealer.disabled)&&t.disable();var n=t.getRatioX();(0,h.isDefined)(n)&&0!==n&&t.setRatioX(0)}return t}}]),t}(p.default);t.default=f},function(e,t,n){var i,o;!function(r,a){i=a,void 0!==(o="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=o)}(0,function(){function e(e){var t="Webkit Moz ms O".split(" "),n=document.documentElement.style;if(void 0!==n[e])return e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<t.length;i++)if(void 0!==n[t[i]+e])return t[i]+e}function t(e){c.backfaceVisibility&&c.perspective&&(e.style[c.perspective]="1000px",e.style[c.backfaceVisibility]="hidden")}var n=function(e,t){this.options=this.applyDefaults(t||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(e),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};n.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&t(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.dragStartPosition={x:0,y:0},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(e){for(var t in this.defaults)e.hasOwnProperty(t)||(e[t]=this.defaults[t]);return e},getWrapperElement:function(e){return"string"==typeof e?document.getElementById(e):e},getHandleElement:function(e,t){var n,i,o;if(e.getElementsByClassName){if(n=e.getElementsByClassName(t),n.length>0)return n[0]}else for(i=new RegExp("(^|\\s)"+t+"(\\s|$)"),n=e.getElementsByTagName("*"),o=0;o<n.length;o++)if(i.test(n[o].className))return n[o]},calculateStepRatios:function(){var e=[];if(this.options.steps>=1)for(var t=0;t<=this.options.steps-1;t++)this.options.steps>1?e[t]=t/(this.options.steps-1):e[t]=0;return e},setWrapperOffset:function(){this.offset.wrapper=u.get(this.wrapper)},calculateBounds:function(){var e={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return e.availWidth=e.right-e.left-this.handle.offsetWidth,e.availHeight=e.bottom-e.top-this.handle.offsetHeight,e},calculateValuePrecision:function(){var e=this.options.xPrecision||Math.abs(this.bounds.availWidth),t=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[e?1/e:0,t?1/t:0]},bindMethods:function(){"function"==typeof this.options.customRequestAnimationFrame?this.requestAnimationFrame=i(this.options.customRequestAnimationFrame,window):this.requestAnimationFrame=i(p,window),"function"==typeof this.options.customCancelAnimationFrame?this.cancelAnimationFrame=i(this.options.customCancelAnimationFrame,window):this.cancelAnimationFrame=i(h,window),this.animateWithRequestAnimationFrame=i(this.animateWithRequestAnimationFrame,this),this.animate=i(this.animate,this),this.onHandleMouseDown=i(this.onHandleMouseDown,this),this.onHandleTouchStart=i(this.onHandleTouchStart,this),this.onDocumentMouseMove=i(this.onDocumentMouseMove,this),this.onWrapperTouchMove=i(this.onWrapperTouchMove,this),this.onWrapperMouseDown=i(this.onWrapperMouseDown,this),this.onWrapperTouchStart=i(this.onWrapperTouchStart,this),this.onDocumentMouseUp=i(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=i(this.onDocumentTouchEnd,this),this.onHandleClick=i(this.onHandleClick,this),this.onWindowResize=i(this.onWindowResize,this)},bindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){r(this.handle,"mousedown",this.onHandleMouseDown),r(this.handle,"touchstart",this.onHandleTouchStart),r(document,"mousemove",this.onDocumentMouseMove),r(this.wrapper,"touchmove",this.onWrapperTouchMove),r(this.wrapper,"mousedown",this.onWrapperMouseDown),r(this.wrapper,"touchstart",this.onWrapperTouchStart),r(document,"mouseup",this.onDocumentMouseUp),r(document,"touchend",this.onDocumentTouchEnd),r(this.handle,"click",this.onHandleClick),r(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(e){s.refresh(e),a(e),l(e),this.activity=!1,this.startDrag()},onHandleTouchStart:function(e){s.refresh(e),l(e),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(e){e.clientX-this.dragStartPosition.x==0&&e.clientY-this.dragStartPosition.y==0||(s.refresh(e),this.dragging&&(this.activity=!0,a(e)))},onWrapperTouchMove:function(e){if(s.refresh(e),!this.activity&&this.draggingOnDisabledAxis())return void(this.dragging&&this.stopDrag());a(e),this.activity=!0},onWrapperMouseDown:function(e){s.refresh(e),a(e),this.startTap()},onWrapperTouchStart:function(e){s.refresh(e),a(e),this.startTap()},onDocumentMouseUp:function(e){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(e){this.stopDrag(),this.stopTap()},onHandleClick:function(e){this.activity&&(a(e),l(e))},onWindowResize:function(e){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getStepWidth:function(){return Math.abs(this.bounds.availWidth/this.options.steps)},getValue:function(){return this.value.target},setStep:function(e,t,n){this.setValue(this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,n)},setValue:function(e,t,n){this.setTargetValue([e,t||0]),n&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){if(!this.disabled&&this.options.tapping)if(this.tapping=!0,this.setWrapperOffset(),this.options.snap&&this.options.steps){var e=(s.x-this.offset.wrapper[0])/this.bounds.availWidth,t=(s.y-this.offset.wrapper[1])/this.bounds.availHeight;this.setValue(this.getClosestStep(e),this.getClosestStep(t),!0)}else this.setTargetValueByOffset([s.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,s.y-this.offset.wrapper[1]-this.handle.offsetHeight/2])},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.dragStartPosition={x:s.x,y:s.y},this.offset.mouse=[s.x-u.get(this.handle)[0],s.y-u.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var e=0===this.bounds.availWidth?0:(s.x-this.dragStartPosition.x)/this.bounds.availWidth,t=0===this.bounds.availHeight?0:(s.y-this.dragStartPosition.y)/this.bounds.availHeight,n=[e,t],i=this.groupClone(this.value.current);if(this.options.slide){var o=this.change;i[0]+=4*o[0],i[1]+=4*o[1]}this.setTargetValue(i),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,""),this.callDragStopCallback(n)}},callAnimationCallback:function(){var e=this.value.current;this.options.snap&&this.options.steps>1&&(e=this.getClosestSteps(e)),this.groupCompare(e,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,e[0],e[1]),this.groupCopy(this.value.prev,e))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(e){"function"==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1],e)},animateWithRequestAnimationFrame:function(e){e?(this.timeOffset=this.timeStamp?e-this.timeStamp:0,this.timeStamp=e):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(e,t){if(!e||this.dragging){if(this.dragging){var n=this.groupClone(this.value.target),i=[s.x-this.offset.wrapper[0]-this.offset.mouse[0],s.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(i,this.options.loose),this.change=[this.value.target[0]-n[0],this.value.target[1]-n[1]]}(this.dragging||t)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||t)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var e=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return!(!e[0]&&!e[1])&&(Math.abs(e[0])>this.valuePrecision[0]||Math.abs(e[1])>this.valuePrecision[1]?(this.value.current[0]+=e[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=e[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0)},updateOffsetFromValue:function(){this.options.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var e="";if(this.options.css3&&c.transform)return this.options.horizontal&&(e+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(e+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[c.transform]=e);this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")},setTargetValue:function(e,t){var n=t?this.getLooseValue(e):this.getProperValue(e);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n),this.callTargetCallback()},setTargetValueByOffset:function(e,t){var n=this.getRatiosByOffsets(e),i=t?this.getLooseValue(n):this.getProperValue(n);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i)},getLooseValue:function(e){var t=this.getProperValue(e);return[t[0]+(e[0]-t[0])/4,t[1]+(e[1]-t[1])/4]},getProperValue:function(e){var t=this.groupClone(e);return t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0),t[0]=Math.min(t[0],1),t[1]=Math.min(t[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(t=this.getClosestSteps(t)),t},getRatiosByOffsets:function(e){return[this.getRatioByOffset(e[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(e[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(e,t,n){return t?(e-n)/t:0},getOffsetsByRatios:function(e){return[this.getOffsetByRatio(e[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(e[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(e,t,n){return Math.round(e*t)+n},getStepNumber:function(e){return this.getClosestStep(e)*(this.options.steps-1)+1},getClosestSteps:function(e){return[this.getClosestStep(e[0]),this.getClosestStep(e[1])]},getClosestStep:function(e){for(var t=0,n=1,i=0;i<=this.options.steps-1;i++)Math.abs(this.stepRatios[i]-e)<n&&(n=Math.abs(this.stepRatios[i]-e),t=i);return this.stepRatios[t]},groupCompare:function(e,t){return e[0]==t[0]&&e[1]==t[1]},groupCopy:function(e,t){e[0]=t[0],e[1]=t[1]},groupClone:function(e){return[e[0],e[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&s.xDiff>s.yDiff||!this.options.vertical&&s.yDiff>s.xDiff}};for(var i=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},r=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},a=function(e){e||(e=window.event),e.preventDefault&&e.preventDefault(),e.returnValue=!1},l=function(e){e||(e=window.event),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},s={x:0,y:0,xDiff:0,yDiff:0,refresh:function(e){e||(e=window.event),"mousemove"==e.type?this.set(e):e.touches&&this.set(e.touches[0])},set:function(e){var t=this.x,n=this.y;e.clientX||e.clientY?(this.x=e.clientX,this.y=e.clientY):(e.pageX||e.pageY)&&(this.x=e.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=e.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-t),this.yDiff=Math.abs(this.y-n)}},u={get:function(e){var t={left:0,top:0};return void 0!==e.getBoundingClientRect&&(t=e.getBoundingClientRect()),[t.left,t.top]}},c={transform:e("transform"),perspective:e("perspective"),backfaceVisibility:e("backfaceVisibility")},d=["webkit","moz"],p=window.requestAnimationFrame,h=window.cancelAnimationFrame,f=0;f<d.length&&!p;++f)p=window[d[f]+"RequestAnimationFrame"],h=window[d[f]+"CancelAnimationFrame"]||window[d[f]+"CancelRequestAnimationFrame"];return p||(p=function(e){return setTimeout(e,25)},h=clearTimeout),n})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=function(){function e(t){i(this,e);var n=this;if((0,r.isNotDef)(t))throw new Error("ImageLoader: require options object when create instance.");n._loadCompleteCallback=(0,r.isFunction)(t.loadCompleteCallback)?t.loadCompleteCallback:null,n._loadPerCompleteCallback=(0,r.isFunction)(t.loadPerCompleteCallback)?t.loadPerCompleteCallback:null,n._loadErrorCallback=(0,r.isFunction)(t.loadErrorCallback)?t.loadErrorCallback:null,n._isLoading=!1,n._isFinish=!1,n._loadedImgs=[],n._imgs=[],n._imgUrls=[],n._loadingIndex=0,n._loadFailNum=0,n._loadSuccessNum=0,n._loadCompleteNum=0,n._percentageLoaded=0}return o(e,[{key:"start",value:function(e){var t=this;if((0,r.isNotDef)(e)||(0,r.not)(Array.isArray)(e))throw TypeError("ImageLoader: start require array parameter");return e.length>0&&(t._imgUrls=e,t._isLoading||(t._isLoading=!0,t._isFinish=!1,t._loadNext())),t}},{key:"isFinished",value:function(){return this._isFinish}},{key:"getLoadedImgs",value:function(){return this._loadedImgs}},{key:"getPercentageLoaded",value:function(){return this.percentageLoaded}},{key:"destroy",value:function(){var e=this;if(!0===e._isLoading)for(var t=void 0,n=0,i=e._imgs.length;n<i;n++)(t=e._imgs[n])&&(t.onload=null,t.onerror=null);return e._loadCompleteCallback=null,e._loadPerCompleteCallback=null,e._loadErrorCallback=null,e._isLoading=!1,e._isFinish=!1,e._loadedImgs=[],e._imgs=[],e._imgUrls=[],e._loadingIndex=0,e._loadFailNum=0,e._loadSuccessNum=0,e._loadCompleteNum=0,e._percentageLoaded=0,e}},{key:"_loadNext",value:function(){var e=this;if(e._loadingIndex>=e._imgUrls.length)return e._isLoading=!1,e._isFinish=!0,void(e._loadCompleteCallback&&e._loadCompleteCallback.call(e,{imgs:e._loadedImgs,percentage:e._percentageLoaded}));var t=document.createElement("img");t.onload=function(t){var n=this;n&&e._loadedImgs.push(n),e._loadingIndex++,e._loadSuccessNum++,e._loadCompleteNum++,e._percentageLoaded=e._loadCompleteNum/e._imgUrls.length,e._loadPerCompleteCallback&&e._loadPerCompleteCallback.call(e,{event:t,img:n,percentage:e._percentageLoaded}),e._loadNext()},t.onerror=function(t){var n=this;e._loadedImgs.push(null),e._loadingIndex++,e._loadFailNum++,e._loadCompleteNum++,e._percentageLoaded=e._loadCompleteNum/e._imgUrls.length,e._loadErrorCallback&&e._loadErrorCallback.call(e,{event:t,img:n,percentage:e._percentageLoaded}),e._loadNext()},t.src=e._imgUrls[e._loadingIndex],e._imgs.push(t)}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},s=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(0),d=function(e){function t(e){if(i(this,t),(0,c.isNotDef)(e))throw new Error("NaviHasTimer: require options object when create instance.");var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n;return r._timerInterval=(0,c.isNumber)(e.timerInterval)&&e.timerInterval>=0?e.timerInterval:500,r._timer=null,n}return r(t,e),a(t,[{key:"destroy",value:function(){return this._removeTimer(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this}},{key:"_mouseoverBtnEventHandler",value:function(e){this._removeTimer(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_mouseoverBtnEventHandler",this).call(this,e)}},{key:"_mouseoutBtnEventHandler",value:function(e){var n=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_mouseoutBtnEventHandler",this).call(this,e),n._timer=setTimeout(function(){n._activateByTimer(n._activatedIndex)},n._timerInterval)}},{key:"_activateByTimer",value:function(e){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"activate",this).call(this,e),this}},{key:"_removeTimer",value:function(){var e=this;return(0,c.isDefined)(e._timer)&&clearTimeout(e._timer),e._timer=null,e}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),l=n(0),s=function(){function e(t){i(this,e);var n=this;n._option=a.default.extend({class:"overlay",color:"#000",opacity:.5,appendTo:(0,a.default)("body"),clickCallback:null},t),n._initialized=!1,n._uniqueId=Date.now(),n._$node=null,n._$parentNode=n._option.appendTo,n._proxy={clickOverlayEventHandler:null}}return o(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._$node=(0,a.default)(document.createElement("div")).addClass(e._option.class),e._$node.css({position:"fixed",width:"100%",height:"100%",top:0,left:0,"background-color":e._option.color,opacity:e._option.opacity,filter:"alpha(opacity="+100*e._option.opacity+")"}),e._$parentNode.append(e._$node),e._proxy.clickOverlayEventHandler=(0,l.isFunction)(e._option.clickCallback)?e._option.clickCallback.bind(e):null,e.hide(),e.setNodeEventHandler(!0),e)}},{key:"setNodeEventHandler",value:function(e){if((0,l.not)(l.isBoolean)(e))throw new TypeError("Overlay: setNodeEventHandler require boolean parameter.");var t=this,n="click.kihon.overlay."+t._uniqueId;return(0,l.not)(l.isFunction)(t._option.clickCallback)?t:(t._$node.off(n,t._proxy.clickOverlayEventHandler),e&&t._$node.on(n,t._proxy.clickOverlayEventHandler),t)}},{key:"getNode",value:function(){return this._$node}},{key:"setCss",value:function(e){var t=this;return t._$node.length>0&&t._$node.css(e),t}},{key:"appendTo",value:function(e){var t=this;return t._$parentNode=t._option.appendTo=(0,a.default)(e),t._$parentNode.append(t._$node),t}},{key:"show",value:function(){var e=this;return e._$node.length>0&&e._$node.show(),e}},{key:"hide",value:function(){var e=this;return e._$node.length>0&&e._$node.hide(),e}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(e=a.default.extend({isRemoveNode:!0},e),(0,l.not)(l.isBoolean)(e.isRemoveNode))throw new TypeError("Overlay: destroy isRemoveNode variable type of option should be boolean.");return t._initialized=!1,t.setNodeEventHandler(!1),t._proxy.clickOverlayEventHandler=null,e.isRemoveNode&&t._$node.remove(),t._$node=null,t._$parentNode=null,t._option=null,t}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},u=n(1),c=i(u),d=n(0),p=n(3),h=i(p),f=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=n;if((0,d.not)(d.isString)(i._option.iFrameWrapSelector))throw new TypeError("YoutubeModal: iFrameWrapSelector variable type of options should be string.");if((0,d.not)(d.isObject)(i._option.youtube))throw new TypeError("YoutubeModal: youtube variable type of options should be object.");if((0,d.not)(d.isString)(i._option.youtube.id)||i._option.youtube.id.length<=0)throw new TypeError("YoutubeModal: id variable type of youtube object should be string.");return i._$iFrameWrap=null,i._$youtubeIFrame=null,i._youtubeSrc="",n}return a(t,e),l(t,[{key:"init",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this._setContents(),this}},{key:"show",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this);var e=this;return(0,d.isNotDef)(e._$youtubeIFrame)||e._$youtubeIFrame.length<=0?e:(e._$youtubeIFrame.attr("src",e._youtubeSrc),e)}},{key:"hide",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hide",this).call(this);var e=this;return(0,d.isNotDef)(e._$youtubeIFrame)||e._$youtubeIFrame.length<=0?e:(e._$youtubeIFrame.attr("src",""),e)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this;return n._$iFrameWrap=null,(0,d.isDefined)(n._$youtubeIFrame)&&(n._$youtubeIFrame.attr("src",""),n._$youtubeIFrame=null),n._youtubeSrc="",s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this,e),n}},{key:"changeYoutubeIFrame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"",width:0,height:0,playerVars:{}},t=this;if((0,d.isNotDef)(e))return t;var n=t._option;return(0,d.isString)(e)?n.youtube.id=e:(0,d.isObject)(e)&&(n.youtube=c.default.extend(!0,n.youtube,e)),(0,d.isDefined)(t._$youtubeIFrame)&&t._$youtubeIFrame.remove(),t._setContents(),t}},{key:"getYoutubeIFrame",value:function(){return this._$youtubeIFrame}},{key:"getYoutubeId",value:function(){var e=this;return e._option.youtube&&e._option.youtube.id?e._option.youtube.id:""}},{key:"_setContents",value:function(){var e=this,t=e._option,n=t.youtube.width?t.youtube.width:"100%",i=t.youtube.height?t.youtube.height:"100%",o="https://www.youtube.com/embed/"+t.youtube.id;(0,d.isObject)(t.youtube.playerVars)&&(o=(0,d.getUriCombinedParams)(o,t.youtube.playerVars)),e._$youtubeIFrame=(0,c.default)('<iframe width="'+n+'" height="'+i+'" src="'+o+'" frameborder="0" allowfullscreen></iframe>'),e._youtubeSrc=e._$youtubeIFrame.attr("src"),e._$iFrameWrap=(0,c.default)(t.iFrameWrapSelector,e._$wrap),e._$iFrameWrap.append(e._$youtubeIFrame)}}]),t}(h.default);t.default=f}]).default});
//# sourceMappingURL=kihon.min.js.map